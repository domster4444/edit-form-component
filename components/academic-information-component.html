<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../style.css" />
    <link href="https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css" rel="stylesheet" />
  </head>

  <body>
    <main id="toggle-edit-input-container">
      <div class="card my-5 p-4">
        <!-- //!  ================================= ACADEMIC INFORMATION SECTION STARTS FROM HERE  -->
        <section class="academic_info">
          <h1 class="dashboard-form-title text-center">
            Academic Information
            <div class="heading-line"></div>
          </h1>

          <!-- dynamic table starts here -->
          <!-- add remove row for table button -->
          <div class="table-view-btn-container">
            <!-- <button class="table-view-btn" onclick="printTable('table1')">Log Table Data In Console</button> -->
            <button class="table-view-btn clickable" onclick="addRow('table1')">
              <i class="bx bx-plus"></i>
            </button>
            <button class="table-view-btn clickable" onclick="removeRow('table1')">
              <i class="bx bx-minus"></i>
            </button>
          </div>

          <section class="table-container table-subject-view">
            <!-- responsive table  -->
            <table class="table1 table-striped table-bordered table-hover table-condensed">
              <thead>
                <tr>
                  <th>
                    <h6>S.N</h6>
                  </th>
                  <th>
                    <h6>SUBJECTS</h6>
                  </th>
                  <th>
                    <h6>THEORY</h6>
                  </th>
                  <th>
                    <h6>PRACTICAL</h6>
                  </th>
                  <th>
                    <h6>AGGREGATE</h6>
                  </th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <div class="table-sn-number poppins_400">1</div>
                  </td>
                  <td>
                    <input type="text" name="subject" placeholder="Subject name" />
                  </td>
                  <td>
                    <input type="number" name="theory" placeholder="Theory marks" />
                  </td>
                  <td>
                    <input type="number" name="username" name="practical" placeholder="Practical marks" />
                  </td>
                  <td>
                    <input type="number" name="username" name="aggregate" placeholder="Aggregate marks" />
                  </td>
                  <td>
                    <button class="table-view-btn clickable" onclick="removeIndividualRow('table1',this)">
                      <i class="bx bx-trash"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </section>

          <div class="table-view-btn-container">
            <!-- <button class="table-view-btn" onclick="printTable('table1')">Log Table Data In Console</button> -->
            <button class="table-view-btn clickable" onclick="addRow('table2')">
              <i class="bx bx-plus"></i>
            </button>
            <button class="table-view-btn clickable" onclick="removeRow('table2')">
              <i class="bx bx-minus"></i>
            </button>
          </div>

          <section class="table-container table-subject-view">
            <!-- responsive table  -->
            <table class="table2 table-striped table-bordered table-hover table-condensed">
              <thead>
                <tr>
                  <th>
                    <h6>S.N</h6>
                  </th>
                  <th>
                    <h6>SUBJECTS</h6>
                  </th>
                  <th>
                    <h6>THEORY</h6>
                  </th>
                  <th>
                    <h6>PRACTICAL</h6>
                  </th>
                  <th>
                    <h6>AGGREGATE</h6>
                  </th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <div class="table-sn-number poppins_400">1</div>
                  </td>
                  <td>
                    <input type="text" name="subject" placeholder="Subject name" />
                  </td>
                  <td>
                    <input type="number" name="theory" placeholder="Theory marks" />
                  </td>
                  <td>
                    <input type="number" name="username" name="practical" placeholder="Practical marks" />
                  </td>
                  <td>
                    <input type="number" name="username" name="aggregate" placeholder="Aggregate marks" />
                  </td>
                  <td>
                    <button class="table-view-btn clickable" onclick="removeIndividualRow('table2',this)">
                      <i class="bx bx-trash"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </section>
        </section>

        <!-- //!  ================================= ACADEMIC INFORMATION SECTION STARTS FROM HERE  -->
      </div>
    </main>
    <script>
      //  TABLE FUNCTION
      // script for add and remove table row function
      function addRow(tableid) {
        var table = document.getElementsByClassName(tableid)[0];

        if (table.rows.length >= 11) {
          throw new Error("Table can only have 10 rows");
          return false;
        } else {
          var row = table.insertRow(table.rows.length);
          var cell1 = row.insertCell(0);
          var cell2 = row.insertCell(1);
          var cell3 = row.insertCell(2);
          var cell4 = row.insertCell(3);
          var cell5 = row.insertCell(4);

          cell1.innerHTML = `<div class='table-sn-number poppins_400 '> ${table.rows.length - 1} </div>`;

          cell2.innerHTML = "<input type='text' name='subject' placeholder='Subject name'  />";
          cell3.innerHTML = "<input type='number' name='theory' placeholder='Theory marks'  />";
          cell4.innerHTML = "<input type='number' name='practical' placeholder='Practical marks'  />";
          cell5.innerHTML = "<input type='number' name='aggregate' placeholder='Aggregate marks'  />";

          // insert remove individual row button
          var cell6 = row.insertCell(5);
          cell6.innerHTML = `<button class='table-view-btn' onclick='removeIndividualRow("${tableid}", this)'>
                                <i class='bx bx-trash'></i>
                              </button>`;
        }
      }
      function removeRow(tableid) {
        var table = document.getElementsByClassName(tableid)[0];
        if (table.rows.length > 1) {
          table.deleteRow(table.rows.length - 1);
        }
      }

      // remove individual row function
      function removeIndividualRow(tableid, row) {
        var table = document.getElementsByClassName(tableid)[0];
        table.deleteRow(row.parentNode.parentNode.rowIndex);

        overrideSN(tableid);
      }
      // override ascending numbers in sn field of table
      function overrideSN(tableid) {
        var table = document.getElementsByClassName(tableid)[0];
        for (var i = 1; i < table.rows.length; i++) {
          table.rows[i].cells[0].innerHTML = `<div class='table-sn-number poppins_400 '> ${i} </div>`;
        }
      }
    </script>
  </body>
</html>
